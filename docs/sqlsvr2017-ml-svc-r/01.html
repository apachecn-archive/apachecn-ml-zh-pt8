<html><head/><body>
<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Introduction to R and SQL Server</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="J2B80-e3f81285367248f4bbc6431bcd4f926d" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">R和SQL Server简介</h1>
                
            
            
                
<p class="calibre2">SQL Server 2016提供了出色的新功能，其中包括与SQL Server的集成，部分是高级分析，部分是新的可编程能力。Microsoft R Services for SQL Server是高度可扩展和并行高级分析新扩展系列的一部分。R Services允许您对数据库中存储的大量数据执行高级分析(统计、多元统计、预测分析、机器学习和深度学习)。微软将R服务作为<strong class="calibre1">微软R服务器</strong> ( <strong class="calibre1"> MRS </strong>)的一部分发布，这是专门为在相同的SQL Server计算上下文中直接从SQL Server数据库读取数据而设计的。</p>
<p class="calibre2">我们将在本章中讨论以下几个方面:</p>
<ul class="calibre7">
<li class="calibre8">使用SQL Server 2016之前的R</li>
<li class="calibre8">微软对开源R语言的承诺</li>
<li class="calibre8">通过SQL Server R集成提升分析能力</li>
<li class="calibre8">这本书的大纲</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Using R prior to SQL Server 2016</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="K0RQ0-e3f81285367248f4bbc6431bcd4f926d" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">使用SQL Server 2016之前的R</h1>
                
            
            
                
<p class="calibre2">自90年代以来，R语言就出现在社区中(尽管它是在十年前开发的)。凭借其开源GNU许可证，R因其简单的安装和调用任何可用的包来实现额外的统计学习功能的能力而广受欢迎。这对于R来说是一个明显的优势，因为在80年代和90年代市场上没有那么多的统计程序；此外，他们中的大多数人并不自由。除了强大的统计分析和预测建模能力之外，核心R引擎的新包的可扩展性为更广泛的社区和用户提供了越来越多的将R语言用于多种目的的能力。</p>
<p class="calibre2">SQL Server 2005引入了<strong class="calibre1">SQL Server Analysis Services</strong>(<strong class="calibre1">SSAS</strong>)数据挖掘功能，这些功能将应用于存储在SQL Server和SSAS OLAP多维数据集中的客户现有丰富数据。该特性允许用户使用<strong class="calibre1">数据挖掘表达式</strong> ( <strong class="calibre1"> DMX </strong>)来创建预测查询。在接下来的几年里，SQL论坛、博客和社区网站上出现了一些关于其他统计和预测方法和途径的问题、请求和想法。</p>
<p class="calibre2">早在2011年，我就开始致力于借助开源的R语言来扩展SQL Server 2008 R2中的统计分析功能。做出这一决定的一个原因是为了能够灵活地运行统计分析(从数据供应到多元分析),而无需先将数据输入OLAP立方体，另一个原因是更加面向业务，需要从所有参与数据准备、数据管理和数据清理的人员那里获得更快的统计洞察。</p>
<p class="calibre2">我开始着手开发一个基于T-SQL存储过程和R包RODBC(<a href="https://cran.r-project.org/web/packages/RODBC" class="calibre10">https://cran.r-project.org/web/packages/RODBC</a>)组合的框架。这个想法很简单；获取事务性或OLAP数据，选择要对其执行分析的列，以及分析本身(从简单分析到预测分析，这将超越SSAS、T-SQL或CLR功能):</p>
<div><img class="aligncenter" src="img/00005.gif"/></div>
<p>图1:框架的过程流</p>
<p class="calibre2">该框架远非简单，调用该过程需要考虑调用R代码、T-SQL select语句和R引擎配置的混合。</p>
<p class="calibre2">存储过程及其所有参数如下所示:</p>
<pre class="calibre18"><strong class="calibre1">EXECUTE AdventureWorks2012.dbo.sp_getStatistics</strong>
<strong class="calibre1">             @TargetTable = '[vStoreWithAddresses]'</strong>
<strong class="calibre1">            ,@Variables = 'Name'</strong>
<strong class="calibre1">            ,@Statistics = '8'</strong>
<strong class="calibre1">            ,@ServerName = 'WORKSTATION-31'</strong>
<strong class="calibre1">            ,@DatabaseName = 'AdventureWorks2012'</strong>
 <strong class="calibre1">           ,@WorkingDirectory = 'C:\DataTK'</strong>
 <strong class="calibre1">           ,@RPath = 'C:\Program Files\R\R-3.0.3\bin';</strong> </pre>
<p class="calibre2">螺母和螺栓的解释超出了本书的范围，在:<a href="http://www.sqlservercentral.com/articles/R+Language/106760/" class="calibre10">http://www.sqlservercentral.com/articles/R+Language/106760/</a>有很好的记录。</p>
<p class="calibre2">回顾这个框架以及来自社区和论坛上的人们的反馈，它得到了积极的接受，许多人评论说他们的日常业务需要类似的东西。</p>
<p class="calibre2">总的来说，这个框架除了开创了这个想法并使R engine离SQL Server更近了一步之外，还有许多缺陷。最大的问题是安全。因为它需要访问一个工作的本地目录来生成由vanilla R引擎运行的R文件，所以它需要启用<kbd class="calibre11">xp_cmdshell</kbd>。以下重新配置是强制性的，许多系统管理员不会批准它:</p>
<pre class="calibre18"><strong class="calibre1">EXECUTE SP_CONFIGURE 'xp_cmdshell', 1;</strong>
<strong class="calibre1">GO</strong>
<strong class="calibre1">RECONFIGURE;</strong>
<strong class="calibre1">GO</strong>
    
<strong class="calibre1">EXECUTE SP_CONFIGURE 'Ole Automation Procedures', 1;</strong>
<strong class="calibre1">GO</strong>
<strong class="calibre1">RECONFIGURE;</strong>
<strong class="calibre1">GO</strong>  </pre>
<p class="calibre2">此外，框架需要访问R引擎安装，以及R包来执行所需的代码。安装开放源码程序和提供读/写访问在安全性和公司软件决策方面也是一个缺点。然而，一个更大的问题是性能和内存问题——后来所有东西都安装好并投入生产。r是基于内存的，这意味着所有的计算都在内存中完成。因此，如果数据集大于可用内存的大小，得到的唯一结果将是错误消息。性能问题的另一个方面也是速度。由于没有并行和分布式计算，这个框架只能依赖于软件包作者的技巧。例如，如果软件包是用C或C++编写的，而不是用Fortran，那么框架的性能会更好。</p>
<p class="calibre2">这个框架的最大优点是能够更快地交付统计分析或预测建模的结果，因为它可以获取OLTP或任何其他需要统计分析的数据。此外，统计学家和数据科学家可以准备存储在表中的R代码，这些代码随后由数据管理者、数据分析师或数据管理员运行。因此，维护了一个真实版本，因为不需要移动数据或复制数据，并且所有用户都在读取相同的数据源。在预测建模方面，该框架还使用户能够利用各种额外的预测算法(例如，决策森林、glm、CNN、SVM和词云)，这些算法当时不属于SSAS数据挖掘的一部分。</p>
<p class="calibre2">除了优点和缺点之外，该框架还是一个成功的初步尝试，通过在SQL Server Reporting Services中推动可视化，可以获得更多可以在不同业务部门之间轻松分发的数据洞察。在SQL Server 2016发布之前的几年里，我遇到过开发类似框架的SQL Server社区的人，他们将预测推送到SQL Server数据库，以支持业务应用程序和解决方案。借助SQL Server 2016，许多类似的解决方案被内部化，并更接近SQL Server引擎，以实现更好的性能，并解决许多问题和缺点。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Microsoft's commitment to the open source R language</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="KVCC0-e3f81285367248f4bbc6431bcd4f926d" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">微软对开源R语言的承诺</h1>
                
            
            
                
<p class="calibre2">随着知名度和社区的不断增长，R已经成为并将继续成为高级分析和数据可视化领域的重要参与者。r和机器学习服务器(或服务)不仅仅是SQL Server下一个周期会被遗忘的时髦词，它正越来越多地渗透到开源和企业软件的不同层面。在过去的五年中，由于R语言的实用性、可用性、跨学科性和开源性，许多大型分析公司已经为R语言引入了R集成、解释器和包装器。随着微软向开源友好迈出大胆的战略性一步，在SQL Server中集成R的用例越来越多，这使得这一步变得更加自然和及时。这一举措得到了SQL社区和企业的高度赞赏。</p>
<p class="calibre2">与其他大型分析工具相比，微软非常重视集成。它解决了语言本身的许多问题和限制，并创建了R与SQL Server的完全集成，以提供最佳的用户体验。许多竞争对手(如SAS、IBM、SAP和Oracle)已经进行了类似的集成，但未能考虑到有助于整体用户体验的许多方面。微软已经宣布加入R联盟将使他们有能力帮助R语言的发展并支持未来的发展。此外，微软已经创建了自己的软件包库，名为MRAN(来自CRAN，其中M代表微软),并为R提供支持和SLA协议，尽管语言和引擎是基于Open R(一个免费的开源版本)。所有这些步骤都告诉我们，微软是如何致力于将一种开放源代码的统计和编程语言引入SQL Server环境的。</p>
<p class="calibre2">我们只能期待更多的R集成到其他服务中。比如Power BI从2016年10月开始支持原生R视觉(<a href="https://powerbi.microsoft.com/en-us/blog/r-powered-custom-visuals" class="calibre10">https://Power BI . Microsoft . com/en-us/blog/R-powered-custom-visual s</a>)，从2015年12月开始支持R语言。因此，我坚信R将很快成为整个SQL Server生态系统的一部分，比如SSAS、SSIS和SSRS。有了Azure Analysis Services，R离分析服务又近了一步。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Boosting analytics with SQL Server R integration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="LTSU0-e3f81285367248f4bbc6431bcd4f926d" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">通过SQL Server R集成提升分析能力</h1>
                
            
            
                
<p class="calibre2">数据科学处于SQL Server和R集成的前沿。DBA、sysadmin、分析师、管理者或任何其他使用SQL server的角色所执行的每项任务都可以得到任何类型的统计、数据关联、数据分析或数据预测的支持。r集成不应仅限于数据科学领域。相反，应该在所有任务中探索和使用它。DBA可以从R集成中获益，方法是从监视任务切换到理解和预测接下来可能会发生什么。同样，这个想法也可以应用于系统管理员、数据管理者等等。r集成还使不同角色的人更接近理解统计、度量、测量，并学习如何通过使用统计分析和预测来改进它们。</p>
<p class="calibre2">除了将孤立的个人团队带入更加一致和有凝聚力的团队之外，R集成还带来了更少的数据移动，因为不同的用户现在可以——在R代码的帮助下——执行、钻取和感受数据，而不是等待首先准备、导出和再次导入数据。无论是简单的报告、预测模型还是分析，工作流程越顺畅，部署时间就越快。这使得数据所有权的界限转变为洞察力所有权，这是对业务需求做出更快反应的积极方面。</p>
<p class="calibre2">在过去的一年里，我们也看到了微软堆栈对数据科学的更大兴趣。通过R集成、Azure机器学习和Power BI，所有想要学习新技能和美德的用户都可以从可用的产品中获得很好的起点。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Summary </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="MSDG0-e3f81285367248f4bbc6431bcd4f926d" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">摘要</h1>
                
            
            
                
<p class="calibre2">从SQL Server 2016开始，R集成成为SQL Server平台非常重要的一部分。自SQL server 2016公开发布以来，直到2018年2月(撰写本文时)，社区已经非常好地接受了R和Python，使数据探索和数据分析成为一般数据库任务的一部分。微软解决了许多问题，并扩展了SQL Server产品。在SQL Server 2017中，Python被添加为第二种分析语言，覆盖了更广泛的社区和企业，同时也考虑到了数据的可扩展性、性能和安全性。</p>
<p class="calibre2">在下一章中，我们将介绍不同的R发行版和IDE工具，用于独立使用R或在SQL Server中使用R，以及在决定选择哪一个时它们之间的区别。</p>


            

            
        
    </body></html>
</body></html>